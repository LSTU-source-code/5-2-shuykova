import pandas as pd
import numpy as np
from scipy import stats
import seaborn as sns
import matplotlib.pyplot as plt

# Искусственное создание данных (замените на реальные данные)
data = {
    'X': [
        'не знал (не знала), что практические занятия проводятся',
        'не посещал (не посещала)',
        'иногда посещал (посещала) и было не интересно',
        'посещал (посещала) не всегда, занятия были интересны',
        'никогда не пропускал, на занятиях было интересно'
    ] * 60,
    'Y': np.random.randint(0, 6, size=300)  # Оценки от 0 до 5
}

df = pd.DataFrame(data)

# Вывод первых строк DataFrame
print(df.head())

# 1. Анализ средних значений Y для каждой категории X
mean_analysis = df.groupby('X')['Y'].mean().reset_index()
print("\nСредние значения Y по категориям X:")
print(mean_analysis)

# 2. Визуализация распределения Y по категориям X
plt.figure(figsize=(12, 6))
sns.boxplot(x='X', y='Y', data=df)
plt.title('Распределение оценок Y по категориям посещаемости занятий X')
plt.xticks(rotation=90)
plt.show()

# 3. Проверка статистической значимости различий между группами
# Используем ANOVA для сравнения более чем двух групп
f_stat, p_value_anova = stats.f_oneway(
    df[df['X'] == 'не знал (не знала), что практические занятия проводятся']['Y'],
    df[df['X'] == 'не посещал (не посещала)']['Y'],
    df[df['X'] == 'иногда посещал (посещала) и было не интересно']['Y'],
    df[df['X'] == 'посещал (посещала) не всегда, занятия были интересны']['Y'],
    df[df['X'] == 'никогда не пропускал, на занятиях было интересно']['Y']
)
print("\nANOVA для всех групп:")
print(f"F-статистика: {f_stat}")
print(f"P-значение: {p_value_anova}")

# Интерпретация результатов:
# Если P < 0.05, то различия между группами статистически значимы